<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="projectinfo.css">
    <script src="./projectinfo.js" defer></script>
    <title>MZK: Processor Schematic</title>
</head>

<body>
    <header>
        <a href="../index.html">MZK</a>|<a href="../projects.html">Projects</a>|Processor Schematic
    </header>
    <div class="content">
        <div class="images">
            <img class="screenshot" src="../images/processor/project07.jpg" alt="" width="6932" height="3966">
            The full processor.
            <img class="screenshot" src="../images/processor/mem-inst.jpg" alt="" width="2478" height="1624">
            Instruction memory.
            <img class="screenshot" src="../images/processor/register-file.jpg" alt="" width="4064" height="3036">
            Register file.
            <img class="screenshot" src="../images/processor/alu.jpg" alt="" width="2022" height="2630">
            Arithmetic Logic Unit (ALU).
            <img class="screenshot" src="../images/processor/hazard-unit.jpg" alt="" width="2544" height="2986">
            Hazard detection unit.
        </div>
        <div class="text">
            <h2>Processor Schematic</h2>
            <p>
                This is a pipelined processor schematic that I designed as part of my Digital Design class at USF. I
                started with basic logic gates, and combined them to create more complex components like multiplexers,
                adders, and decoders. I then used these components to build more components, and eventually the main
                parts of the processor, including the ALU, register file, instruction memory, and control unit. Every
                component and embedded circuit, and all of those components' embedded circuits were built by hand and
                reused in various places to build the processor.
            </p>
            <h2>Instruction Fetch (IF) Stage</h2>
            <p>
                This stage of the processor fetches the next instruction to be executed from memory. The instructions
                are input through the PROG input. The Program counter keeps track of the current instruction address,
                and the instruction memory (mem-inst) outputs the instruction word at that address. The PC is
                incremented by 4 to point to the next instruction word. The instruction word is then sent to the Decode
                Register Read (DR) stage via the IF/DR Register.
            </p>
            <h2>Decode Register Read (DR) Stage</h2>
            <p>
                In this stage, the instruction word is decoded to determine the operation to be performed. It is sent to
                the Instruction Decoder (decoder-inst), which determines what operation is being performed and sets the
                control signals accordingly. It is also sent to the RegDecoder which determines the source and
                destination registers. The Register File (RegFile) reads the values of the source registers given by the
                register decoder. The operand values, immediate values, and control signals are then sent to the Execute
                (EX) stage via the DR/EX Register.
            </p>
            <h2>Execute (EX) Stage</h2>
            <p>
                The Execute stage is the where the actual computation happens. If the instruction is a branch, the
                branch unit evaluates the branch condition and calculates the target address. If the instruction is an
                arithmetic operation, the Arithmetic Logic Unit (ALU) performs the operation on the operands provided by
                the Register File. The ALU determines which operation to perform based on the control signals from the
                Instruction
                Decoder. This stage is also where the Immediate Decoder (ImmDecoder) lives, which decodes the actual
                values to be used by the ALU from the instruction word. The results of the computation are sent to the
                Memory (MEM) stage via the EX/MEM Register.
            </p>
            <h2>Memory (MEM) Stage</h2>
            <p>
                In the Memory (MEM) Stage, the processopr interacts with the machine's memory. IF the instruction
                determined previously is a load or store operation, the RAM unit reads from or writes to the memory
                address computed by the ALU in the previous stage. The stored or read values are passed along to the
                MEM/WB register. If the instruction is not a load or store, the MEM stage is skipped completely, and the
                outputs from the EX/MEM registetr are wired straght to the Write Back (WB) stage.
            </p>
            <h2>Write Back (WB) Stage</h2>
            <p>
                The Write Back (WB) stage is the final stage of the processor pipeline. A multiplexer chooses between
                the ALU result and the value read from memory based on the control signal from the instruction decoder.
                The selected value is then written into the destination register in the register file. Once written, the
                stage is ready for the next instruction.
            </p>
            <h2>Hazard Detection Unit</h2>
            <p>
                The Hazard Detection Unit is active through every stage of the pipeline proceessor. Its purpose is to
                ensure that each stage of the pipeline has the correct data to work with, and that no stage is trying to
                read or write to a register that is currently being written to by another stage. It also ensures that
                data which is needed by the next or previous stage is available, even though the data might have not
                made it thorugh the pipeline yet.
            </p>
            <p>
                (describe hazards and solutions)
            </p>
            <h2><a href="https://github.com/USF-CS315-F23/project07-mzkahane">Github Repo</a></h2>
            <sup>(Requires Digital.exe to open .dig files)</sup>
        </div>
    </div>
    <!-- Modal for expanded image -->
    <div id="imgModal" class="modal">
        <span class="close">&times;</span>
        <img class="modal-content" id="modalImg">
        <div id="caption"></div>
    </div>
</body>

</html>